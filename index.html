<!DOCTYPE html>
  <html>
    <head>
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.js"></script>
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <link rel="prefetch" href="NONE.mp3">
      <link rel="prefetch" href="Anand Sahib.mp3">
      <link rel="prefetch" href="Chaupai Sahib.mp3">
      <link rel="prefetch" href="Jaap Sahib.mp3">
      <link rel="prefetch" href="Japji Sahib.mp3">
      <link rel="prefetch" href="Kirtan Sohila.mp3">
      <link rel="prefetch" href="Rehraas Sahib.mp3">
      <link rel="prefetch" href="Sukhmani Sahib.mp3">
      <link rel="prefetch" href="Tav Parsad Savaiye.mp3">
      <style>
        select{
          background-color: #009688;
          color: white;
        }
        audio{
          background-color: #95B9C7;
        }
      </style>
    </head>
    <body>
      <script type="text/javascript" src="js/materialize.min.js"></script>
      <!-- Dropdown Menu-->
      <div ng-app="myApp" ng-controller="myCtrl">
        <audio autoplay>
          <source src="NONE.mp3">
        </audio>
        <p>Select Gurbani:</p>

        <!--<select ng-model="G_name" ng-init="G_name='Anand Sahib'" class="browser-default">
          <option ng-repeat="x in g_names" value="{{x.model}}">{{x.model}}</option>
        </select>-->

        <!--<ul class="collection with-header browser-default" >
          <li class="collection-header"><h4>{{G_name}}</h4></li>
          <li class="collection-item" ng-repeat="x in Gurbani()">{{x.model}}</li>
          <li class="collection-item">Alvin</li>
          <li class="collection-item">Alvin</li>
          <li class="collection-item">Alvin</li>
        </ul>-->
        <!--<div ng-model="G_name" ng-init="G_name='Anand Sahib'">{{G_name}}</div>-->
        <ul class="collapsible popout" data-collapsible="accordion" ng-model="G_name" ng-init="G_name='NONE'">
          <li ng-repeat="x in g_names">
            <div class="collapsible-header"><img class="circle" src="{{x.model}}.png" height="42" width="42">{{x.model}}</div>
            <div class="collapsible-body" ng-init="G_name=x.model">
              <span>
            <audio controls="controls">
              <source src="{{G_name}}.mp3">
            </audio>
            <span ng-repeat="y in Gurbani(x.id)"></br>{{y}}</span></span
            </div>
          </li>
        </ul>
      </div>
      <!-- Angular JS Scripts-->
      <script>
      var app = angular.module('myApp', []);
      app.controller('myCtrl', function($scope, $http, $sce) {
          $scope.g_names = [
              {model : "Anand Sahib", id:"0"},
              {model : "Chaupai Sahib", id:"1"},
              {model : "Jaap Sahib", id:"2"},
              {model : "Japji Sahib", id:"3"},
              {model : "Kirtan Sohila", id:"4"},
              {model : "Rehraas Sahib", id:"5"},
              {model : "Sukhmani Sahib", id:"6"},
              {model : "Tav Parsad Savaiye", id:"7"}
          ];
          /*$scope.getAudioUrl=function(){
             return $sce.trustAsResourceUrl($scope.G_name+'.mp3');
        };*/
          var a=[];
            $http.get('Anand Sahib.html').then(function (result) {
              a[0] = result.data;
            });
            $http.get('Chaupai Sahib.html').then(function (result) {
              a[1] = result.data;
            });
            $http.get('Jaap Sahib.html').then(function (result) {
              a[2] = result.data;
            });
            $http.get('Japji Sahib.html').then(function (result) {
              a[3] = result.data;
            });
            $http.get('Kirtan Sohila.html').then(function (result) {
              a[4] = result.data;
            });
            $http.get('Rehraas Sahib.html').then(function (result) {
              a[5] = result.data;
            });
            $http.get('Sukhmani Sahib.html').then(function (result) {
              a[6] = result.data;
            });
            $http.get('Tav Parsad Savaiye.html').then(function (result) {
              a[7] = result.data;
            });
        $scope.Gurbani=function(i){
            return a[i].records;
        };

      });
      </script>
  </html>
